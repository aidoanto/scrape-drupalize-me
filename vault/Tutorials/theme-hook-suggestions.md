---
title: "theme hook suggestions"
url: "https://drupalize.me/tutorial/what-are-template-files"
guide: "[[theming-cheat-sheet]]"
---

# theme hook suggestions

## Content

Template files are responsible for the HTML markup of every page generated by Drupal. Any file ending with the *.html.twig* extension is a template file. These files are composed of standard HTML markup as well as tokens used by the Twig template engine to represent dynamic content that will be substituted into the HTML markup when the template is used. As a theme developer, you'll work with this a lot.

In this tutorial we’re going to learn about:

- What template files are, and how they fit into the big picture of creating a theme
- How template files are used in order to allow theme developers to modify the HTML markup output by Drupal
- Naming conventions for, and specificity of, template files

## Goal

Understand what template files are and how they are used in a theme.

## Prerequisites

- [Theme Inheritance with Base Themes](https://drupalize.me/tutorial/theme-inheritance-base-themes)

## Video

Sprout Video

## What are template files in Drupal?

Drupal generates a page's HTML by combining the output of many template files. One way to visualize this is to imagine a set of sequentially smaller blocks nested inside of one another. The innermost template might be the one used to generate the HTML representation of the image file attached to an article node, while the outermost provides the HTML opening and closing tags and some header elements common to every page.

Consider the file *node.html.twig*. Any time a node is displayed on your site, this template is responsible for generating the HTML markup that represents the node. This is true whether the node is displayed as a single page (i.e. *node/10*) or as one of many in a list of node teasers like the default front page.

Image

![Image of page displaying one node with node highlighted to show template usage](/sites/default/files/styles/max_800w/public/tutorials/images/concept-template-node-single.png?itok=HSz4pBZh)

The illustration above shows the part of the page that the *node.html.twig* template file is responsible for outputting. In this case it's the primary page content but not things like the logo or main menu.

In order to change the HTML representation of a node you need to change the associated template file.

## Overriding template files

At its core, theming in Drupal works because modules provide a default (or base) version of a template file that contains a minimal set of markup required to display the various elements they are responsible for, and then Drupal allows any theme to override that base template in order to change the markup.

Rather than change a template file provided by Drupal, another theme, or a contributed module, it is preferable to override the template file and make changes to a **copy** of the original. A large part of creating a custom theme consists of modifying Drupal's default output to fit your needs by locating the template file that is responsible for outputting the markup you want to change and then making changes to a copy of that template in your custom theme.

Overriding templates is a 3-step process that consists of:

1. Locating the template currently being used
2. Copying the template into your theme
3. Modifying the copy of the template

For example, if you wanted to change the HTML markup of all nodes you would start by copying the file *core/modules/node/templates/node.html.twig* into the templates directory of your custom theme. Then clear the cache. The next time a node is displayed, Drupal will go through the process of determining which template file to use for rendering a node. Assuming your theme is enabled, your template file will be located, and Drupal will begin using it for every node going forward.

## How Drupal determines which template to use

When asked to display a node, the theme system attempts to locate the correct template by looking through a set of known locations for derivatives of the *node.html.twig* template, then uses the first instance it finds. If no more specific template is found, it ultimately falls back to the base template file provided by the node module.

Locations are searched in this order:

1. Current theme
2. Base theme (when applicable)
3. Drupal core or contributed module

Let's say we've got a theme named *Ice Cream (icecream)*, which specifies Classy as a base theme, and is currently enabled and set to default. When a user visits a page on our site—like *node/10*—the node module retrieves the content of the node being displayed and assembles it, then hands it off to the theme layer to create an HTML representation of the content. In this scenario, Drupal will first look for *themes/icecream/templates/node.html.twig*. If that file exists, it'll use that template, but if not, it will check the base theme, *core/themes/classy/templates/content/node.html.twig*, and if that one doesn't exist it'll fall back to the template file provided by the node module *core/modules/node/templates/node.html.twig*.

Image

![Image of page displaying many nodes with nodes highlighted to show template usage](/sites/default/files/styles/max_800w/public/tutorials/images/concept-template-node-many.png?itok=4jGdoVei)

The illustration above shows how a single *node.html.twig* template file is used to generate the output for three different nodes (in teaser mode) all presented on the same page.

Whichever template file is found first during this search is the one that will be used to determine how to display the node in question.

## Theme hook suggestions

In addition to looking for a template named *node.html.twig*, Drupal will also attempt to locate variations of the file based on context, and use those variations if they exist. This allows for fine-grained control over which template file is used in any given context.

Sometimes you might want to get more specific and change the markup of an element only in specific cases. A common example would be providing different markup for nodes of a specific type, like blog posts. In addition to looking through the theme's chain of inheritance for a template file, Drupal will also look for templates that match a predefined naming convention for a best-fit match. These potential alternate names are referred to as *theme hook suggestions*.

Theme hook suggestions vary depending on what is being themed, application state, and context. Nodes, for example, have the following theme hook suggestions, starting with the most specific and getting more generic.

Consider that we're viewing a page at *example.com/node/123* (where `123` is the Node ID or NID), here are some of the template file name suggestions that could be employed for the "node" portion of the page:

1. *node--{NID}.html.twig* (e.g. *node--123.html.twig*)
2. *node--{TYPE}.html.twig* (e.g. *node--page.html.twig*)
3. *node.html.twig*

When displaying a node Drupal will look for the appropriate template file starting with the most specific, and continuing to search until it finds a best-fit match. If there isn't a match in your theme, Drupal will then move down the inheritance chain to any base themes and finally to the module that provided the element, running through the list of suggested template file names and looking for a match in each location.

### Example 1: Displaying *node/123*, node type: "blog\_post"

```
1.  [ ] _themes/icecream/templates/node--42.html.twig_ (Not a match; wrong node ID)
2.  [x] _themes/icecream/templates/node--blog_post.html.twig_ (Match: node type; template used)
3.  [ ] _themes/icecream/templates/node.html.twig_
```

### Example 2: Displaying *node/21*, node type: "page"

```
1.  [ ] _themes/icecream/templates/node--42.html.twig_ (Not a match; wrong node ID)
2.  [ ] _themes/icecream/templates/node--blog_post.html.twig_ (Not a match: wrong node type)
3.  [x] _themes/icecream/templates/node.html.twig_ (Match: all nodes; template used)
```

You can learn about the currently available suggestions for any template by [enabling Twig debug mode](https://drupalize.me/tutorial/configure-your-environment-theme-development), which outputs a list of possible template file names into the HTML source. Try to understand where they come from by learning about theme hook suggestions. See also the tutorial, [Discover Existing Theme Hook Suggestions](https://drupalize.me/tutorial/discover-existing-theme-hook-suggestions).

### Example Twig debug output

```
<!-- THEME DEBUG -->
<!-- THEME HOOK: 'node' -->
<!-- FILE NAME SUGGESTIONS:
   * node--view--frontpage--page-1.html.twig
   * node--view--frontpage.html.twig
   * node--2--teaser.html.twig
   * node--2.html.twig
   * node--page--teaser.html.twig
   * node--page.html.twig
   * node--teaser.html.twig
   x node.html.twig
-->

<!-- BEGIN OUTPUT from 'core/themes/classy/templates/content/node.html.twig' -->
<article data-history-node-id="1" role="article" class="contextual-region node node--type-article node--promoted node--view-mode-teaser" about="/node/1" typeof="schema:Article">
....
</article>
<!-- END OUTPUT from 'core/themes/classy/templates/content/node.html.twig' -->
```

### Interpreting Twig debug output

1. The file name suggestions are ordered from *most* specific to *least* specific.
2. An `x` denotes the file name suggestion currently in use.
3. Find the full path to the template being used in the `BEGIN OUTPUT` or `END OUTPUT` HTML comments.
4. File name suggestions follow a general pattern of `{THEME_HOOK}-{CONTEXT}`, where `{CONTEXT}` may include one or more contexts (making it more or less specific).

## Suggestions added by hooks

Theme hook suggestions are provided by one of three hooks. Both modules and themes can add or remove suggestions from the list.

- `hook_theme_suggestions_HOOK(array $variables)`
- `hook_theme_suggestions_alter(array &$suggestions, array $variables, $hook)`
- `hook_theme_suggestions_HOOK_alter(array &$suggestions, array $variables)`

For example, if you wanted to use a different template to display nodes for users who are logged in to your site you might add a theme hook suggestion via your theme that makes it so the template *node--authenticated.html.twig* is added to the list, and thus used, for all logged in users. To learn more, see the tutorial [Add New Theme Hook Suggestions](https://drupalize.me/tutorial/add-new-theme-hook-suggestions).

## Recap

In this tutorial, provided a high-level overview of what template files are and how they work in a Drupal theme. Drupal generates a page's HTML by combining the output of many template files. You can change the markup of any of these template files by overriding the template in your theme and giving the template a name that will target an appropropriate scope for the template -- whether the context, content type, or other identifier.

## Further your understanding

- List the locations that Drupal searches for implementations of a template file.
- Write down the three steps required to override a template file. (See [Override a Template File](https://drupalize.me/tutorial/override-template-file).)
- What are theme hook suggestions? (To learn more, see [Discover Existing Theme Hook Suggestions](https://drupalize.me/tutorial/discover-existing-theme-hook-suggestions) and [Add New Theme Hook Suggestions](https://drupalize.me/tutorial/add-new-theme-hook-suggestions).)
- Explain two places that you might be able to use theme hook suggestions to simplify your own theme.

## Additional resources

- [Locating Template Files with Debugging](https://www.drupal.org/node/2358785) (Drupal.org)
- [Configure Your Environment for Theme Development](https://drupalize.me/tutorial/configure-your-environment-theme-development) (Drupalize.Me)
- [Override a Template File](https://drupalize.me/tutorial/override-template-file) (Drupalize.Me)
- [Determine the Base Name of a Template](https://drupalize.me/tutorial/determine-base-name-template) (Drupalize.Me)
- [Inspect Variables Available in a Template](https://drupalize.me/tutorial/inspect-variables-available-template) (Drupalize.Me)
- [Discover Existing Theme Hook Suggestions](https://drupalize.me/tutorial/discover-existing-theme-hook-suggestions) (Drupalize.Me)
- [Add New Theme Hook Suggestions](https://drupalize.me/tutorial/add-new-theme-hook-suggestions) (Drupalize.Me)
- [Twig Syntax Delimiters](https://drupalize.me/tutorial/twig-syntax-delimiters) (Drupalize.Me)

Was this helpful?

Yes

No

Any additional feedback?

Clear History

Ask Drupalize.Me AI

close